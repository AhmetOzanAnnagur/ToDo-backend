{% load static %}

<div class="card mb-3">
    <div class="row"> 
        <div class="col-md-9">
            <div class="card-body">
                
                <h5 class="card-title">
                    <a href="{% url 'task_details' task.slug %}">
                        {{ task.name }}
                    </a>
                </h5>
                <p class="card-text">{{task.description|safe}}</p>

                <form method="POST" action="{% url 'toggle_task_done' task.id %}">
                    {% csrf_token %}
                    <div class="form-check">
                        <input class="form-check-input"
                               type="checkbox"
                               name="is_done"
                               onchange="this.form.submit()"
                               {% if task.is_done %}checked{% endif %}>
                        <label class="form-check-label">
                            {% if task.is_done %}
                                {{ "the task is completed" }}
                            {% else %}
                                {{ "complete" }}
                            {% endif %}
                            
                        </label>
                    </div>
                </form>
            
            </div>
        </div>
    </div>
</div>